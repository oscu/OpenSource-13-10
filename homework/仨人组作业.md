# KVM vs Xen #

  组名：仨人
  
       苏琦 Sookie7
       张琼 phyllisqq
       马燕薇 mayanwei0908

## 项目介绍 ##

###* Xen###
Xen 是一个开放源代码虚拟机监视器，由剑桥大学开发。它打算在单个计算机上运行多达100个满特征的操作系统。操作系统必须进行显式地修改（“移植”）以在Xen上运行（但是提供对用户应用的兼容性）。这使得Xen无需特殊硬件支持，就能达到高性能的虚拟化。Xen通过一种叫做准虚拟化的技术获得高性能，甚至在某些与传统虚拟技术极度不友好的架构上（x86），Xen也有上佳的表现。与那些传统通过软件模拟实现硬件的虚拟机不同，在Intel VT-X支持下3.0版本之前的Xen需要系统的来宾权限，用来和Xen API进行连接。到目前为止，这种技术已经可以运用在NetBSD, GNU/Linux, FreeBSD和Plan 9系统上。在Brainshare 2005会议上，Novell展示了NetWare与 Xen的连通。与Windows XP连通的技术曾在Xen开发初期进行，但微软的协议未能允许它发布。Sun微系统公司也正在积极地将Solaris移植到Xen平台之上。Xen虚拟机可以在不停止的情况下在多个物理主机之间实时迁移。在操作过程中，虚拟机在没有停止工作的情况下内存被反复的复制到目标机器。虚拟机在最终目的地开始执行之前，会有一次60-300秒的非常短暂的暂停以执行最终的同步化，给人无缝迁移的感觉。类似的技术被用来暂停一台正在运行的虚拟机到磁盘，并切换到另外一台，第一台虚拟机在以后可以恢复。Xen目前可以运行在x86系统上，并正在向x86_64、IA64、PPC移植。移植到其他平台从技术上是可行的，未来有可能会实现。
###* KVM###
KVM全称是Kernel-based Virtual Machine，即基于内核的虚拟机。由Qumranet公司开发，设计目的旨在简化虚拟化实例的管理，它也提供了一个强大的框架，用于增强底层架构的功能，2008年被红帽公司收购。红帽一直将KVM作为虚拟化战略的一部分，2011年红帽完全放弃了以开源Xen为虚拟化平台的思路，开始支持KVM作为hypervisor。KVM项目代表下一代开源虚拟化，这个轻量级的虚拟化管理程序模块能直接与硬件交互，不需要修改虚拟化操作系统，因此性能更好，并且补丁包能够和Linux内核兼容，轻松控制虚拟化进程，同时减轻管理负担。
KVM以一种可加载模块的方式移植到linux内核中，它将linux转换成一种可以裸机安装的虚拟化管理程序。KVM项目已证实有两种关键的设计原则帮助它迅速地成为一个可靠的，高性能的虚拟化管理程序，并且凭借这两点它打败了其他开源虚拟化管理程序。   

1. 因为KVM是在硬件支持虚拟化出现后被设计的，所以它没必要植入特有的硬件所提供的特性。KVM虚拟化管理程序需要CPU支持Intel VT-X 或者 AMD-V，然后通过CPU的这种特性来虚拟出CPU. 
2. KVM项目组尊崇一条格言,”不做重复发明”。因为Linux内核已经包含了一个虚拟化管理程序所需的核心组件，所以没必要从头开始写所有的组件。KVM项目组在2006年11月向Linux 内核社区提交了KVM的代码，并且在2007年1月，KVM将被包含在Linux 2.6.20 内核中。 这使得kvm的补丁包可以被Linux内核兼容

## 功能比较 ##
###虚拟机比较###
名称|作者|主CPU|客户CPU|主系统|客户系统|许可
:-:|:-:|:-:|:-:|:-:|:-:|:-:
Xen|英国剑桥大学，Intel, AMD|x86,x86-4|x86,x86-4|NetBSD,Linux,Solaris|Linux,Solaris,WindowsXp&2003 Server,九号计划,FreeBSD|GPL
KVM |Red Hat|Intel/AMD处理器与86虚拟化|x86,x86-4|Linux|Linux,Windows|GPL v2
###REDHAT5，REDHAT6和SUSE11对kvm和xen的不同支持###
SUSE11 sp1|REDHAT6|REDHAT5
:-:|:-:|:-:
安装方式KVM需手动安装kvm的rpm包和bridge包，并且安装后需重启加载内核才能生效。|已经在系统第一张盘中集成。无需系统安装后再重新选择|相同
在安装上更好的集中了XEN，在安装过程中提供了三种选择，完全虚拟化，XEN的准虚拟化，精简版的XEN虚拟化（不含视窗）；KVM在其版本中为技术预览版本。|已经摒弃XEN，完全集成KVM。但是在版本和功能稳定上，由于2009年Redhat公司才开始并购专门研发KVM的技术公司，目前的版本虽然已经开发了很多，实践范围上和时间上毕竟没有XEN运行广泛和稳定。|XEN与KVM均包含其中，在进入系统内核模式中，KVM为自动启动
XEN的半虚拟化技术已经很完备。|KVM在技术手段上还需要完善。
Kvm-0.12.3-0.11.1中文版|0.12.1.2-2.113中文版|83-105.e15 英文版
装机有连贯性，中间无需重新启动虚拟控制端|装机有连贯性，中间无需重新启动虚拟控制端|如遇到系统重启，虚拟端断开连接，需点run来继续运行
支持全虚拟和半虚拟|支持全虚拟和半虚拟|只支持全虚拟
资源上系统占用较大，1G内存最多运行1个虚机。|1G内存可以运行2个虚机。|1G内存可以运行2个虚机。
可以对内存，cpu实现命令的静态调配|存在bug，无法用命令管理|可以对内存，cpu实现命令的静态调配
## 社区活跃程度比较 ##
###* Xen###
![Resize icon][1]

[1]:http://image.baidu.com/i?tn=download&word=download&ie=utf8&fr=detail&url=http%3A%2F%2Fimgs.ccw.com.cn%2Fresources%2F2009_12%2F2009_12_07%2F200912072591260163266131.jpg								
图注：Xen.org社区主席兼Xen项目首席架构师、思杰前沿产品部副总裁 **Ian Pratt**

和很多开源项目一样，Xen也诞生于大学实验室。1999年，在英国剑桥大学计算机实验室工作的Ian Pratt和一些学生启动了一个名为“Xeno”项目，随后Ian Pratt在这个项目的基础上，发起并成立了Xen.org社区，并给Hypervisor取名为Xen。Xen云平台是Xen.org社区今年9月份正式启动和主导的一个庞大计划，其目标是为未来的云服务供应商提供安全的、经过验证的基于Xen的开源基础设施平台，用以帮助它们更轻松地交付安全、可定制的多租户云服务。

###* KVM###
KVM最早由Avi Kivity等人开发，并于2006年8月推向社区，10月被Linux社区接受。它以其代码简单、易于理解掌握以及不需要重新安装等优点很快受到了业界的欢迎与及Linux项目创始人Torvalds的支持，并于2006年底被集成进Linux 2.6.20版内核，从此成了为Linux的一个组成部分。KVM的管理者是Avi Kivity，他也因此成为Linux内核核心小组和Linux虚拟化小组的主要成员。与此同时KVM的开发团队也快速成长起来，到今天发往KVM邮件群里的邮件每天都接近一百封，包括很多原来其他开发社区里的资深开发者都加入了KVM的开发。Intel和IBM等公司也投入了相当的人力到KVM的项目的开发中，成为KVM开发的主力军。
KVM项目从产生到收录到Linux内核中仅用了几个月的时间，在如此短的时间取得这么大的进步是很惊人的，这其中有来自社区人员的不解努力，背后也有着众多企业的支持，这充分体现了开源开发模式的优越性和先进性，可以说KVM是这种社区开发模式的结晶，它凝聚了无数人的智慧和劳动成果。
## 成功应用 ##
###* Xen###
* 腾讯公司---中国最大的Web服务公司
腾讯公司经过多方测试比较后,最终选择了Novell SUSE Linux Enterprise Server中的Xen超虚拟化技术。该技术帮助腾讯改善了硬件利用率以及提高系统负载变化时的灵活性。客户说：“在引入Xen超虚拟化技术后，我们可以在每台物理机器上运行多个虚拟服务器，这意味着我们可以潜在的显著扩大用户群，而不用相应地增加硬件成本。”
* 宝马集团----驰名世界的高档汽车生产企业
宝马集团(BMW Group)利用Novell带有集成Xen虚拟化软件的SUSE Linux Enterprise Server来执行其数据中心的虚拟化工作量，从而降低硬件成本、简化部署流程。采用虚拟化技术使该公司节省了高达70%的硬件成本，同时也节省了大量的电力成本。
* 云谷科技---基于Xen的VPS管理平台研发公司
XenSystem，是基于Xen的虚拟技术开发的一款VPS管理系统。这一款功能VPS智能管理平台，运用IT业界最新的“云计算”和“云储存”的设计理念，支持自动化的VPS云主机和服务器的实时管理功能，具备良好的兼容性和稳定性，从而简单高效地管理VPS主机的运作，与Hyper-V基于Xen的虚拟化技术后使VPS更趋稳定，运作更为高效。这也意味着IDC的运作成本会大大地降低，利润得以增加。
###* KVM###
![Resize icon][2]

[2]:http://nj.baidupcs.com/file/9870e1c6c95b39663aa8a249bb29f2af?xcode=365cb3b5e428fa9dfac135bc541340dacb0569c91e861570&fid=2047292547-250528-2883808773&time=1385515121&sign=FDTAXER-DCb740ccc5511e5e8fedcff06b081203-PyR%2F0rvBms6YvtoOFqBqcsAiJ1A%3D&to=nb&fm=Q,B,U,t&expires=8h&rt=pr&r=811388947&logid=2834790816&vuk=2047292547&fn=1.png
![Resize icon][3]


[3]:http://nj.baidupcs.com/file/c22f171e70bb6929effa3282e738188c?xcode=365cb3b5e428fa9d886ce0dc9a00675e833630de04ae9567&fid=2047292547-250528-3489182271&time=1385515121&sign=FDTAXER-DCb740ccc5511e5e8fedcff06b081203-Q41pwgFF4BMjoF4IMavo1aZoCwM%3D&to=nb&fm=Q,B,U,t&expires=8h&rt=pr&r=814420982&logid=2851789905&vuk=2047292547&fn=2.png

## 组员贡献 ##
张琼：Xen资料收集及整理

马燕薇：KVM资料收集及整理

苏琦：markdown编辑


## 参考资料 ##
网络

《系统虚拟化：原理与实现》

